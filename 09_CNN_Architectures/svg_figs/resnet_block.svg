<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 380">
  <rect width="750" height="380" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="375" y="35" font-family="Georgia, serif" font-size="22" font-weight="bold" fill="#1e293b" text-anchor="middle">ResNet: Residual Block</text>
  
  <!-- Input -->
  <rect x="60" y="100" width="80" height="50" fill="#dbeafe" stroke="#2563eb" stroke-width="2" rx="6"/>
  <text x="100" y="130" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1e293b" text-anchor="middle">x</text>
  
  <!-- Arrow to conv -->
  <path d="M 145 125 L 200 125" stroke="#1e293b" stroke-width="2" marker-end="url(#arr)"/>
  <defs><marker id="arr" markerWidth="10" markerHeight="10" refX="9" refY="5" orient="auto"><path d="M0,0 L0,10 L10,5 z" fill="#1e293b"/></marker></defs>
  
  <!-- Conv Block 1 -->
  <rect x="210" y="80" width="100" height="90" fill="#f8fafc" stroke="#1e293b" stroke-width="2" rx="6"/>
  <text x="260" y="105" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">Conv 3×3</text>
  <text x="260" y="125" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">BatchNorm</text>
  <text x="260" y="145" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">ReLU</text>
  
  <!-- Arrow to conv 2 -->
  <path d="M 315 125 L 360 125" stroke="#1e293b" stroke-width="2" marker-end="url(#arr)"/>
  
  <!-- Conv Block 2 -->
  <rect x="370" y="80" width="100" height="90" fill="#f8fafc" stroke="#1e293b" stroke-width="2" rx="6"/>
  <text x="420" y="105" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">Conv 3×3</text>
  <text x="420" y="125" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">BatchNorm</text>
  
  <!-- Arrow to add -->
  <path d="M 475 125 L 520 125" stroke="#1e293b" stroke-width="2" marker-end="url(#arr)"/>
  
  <!-- Skip Connection (curved line) -->
  <path d="M 100 155 L 100 200 L 540 200 L 540 155" fill="none" stroke="#2563eb" stroke-width="3" stroke-dasharray="5,3"/>
  <text x="320" y="220" font-family="Arial, sans-serif" font-size="12" fill="#2563eb" text-anchor="middle" font-weight="bold">Skip Connection (Identity)</text>
  
  <!-- Add circle -->
  <circle cx="540" cy="125" r="20" fill="#2563eb" stroke="#1e293b" stroke-width="2"/>
  <text x="540" y="132" font-family="Arial, sans-serif" font-size="20" fill="#ffffff" text-anchor="middle">+</text>
  
  <!-- Arrow to output -->
  <path d="M 565 125 L 600 125" stroke="#1e293b" stroke-width="2" marker-end="url(#arr)"/>
  
  <!-- ReLU -->
  <rect x="610" y="100" width="60" height="50" fill="#f8fafc" stroke="#1e293b" stroke-width="2" rx="6"/>
  <text x="640" y="130" font-family="Arial, sans-serif" font-size="12" fill="#1e293b" text-anchor="middle">ReLU</text>
  
  <!-- Output -->
  <rect x="685" y="100" width="50" height="50" fill="#2563eb" rx="6"/>
  <text x="710" y="130" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#ffffff" text-anchor="middle">y</text>
  
  <!-- Formula Box -->
  <rect x="60" y="260" width="630" height="100" fill="#f1f5f9" stroke="#1e293b" stroke-width="2" rx="8"/>
  
  <text x="375" y="295" font-family="Georgia, serif" font-size="18" fill="#1e293b" text-anchor="middle">y = F(x) + x</text>
  
  <text x="375" y="325" font-family="Arial, sans-serif" font-size="13" fill="#64748b" text-anchor="middle">F(x) = learned residual | x = identity shortcut</text>
  
  <text x="375" y="345" font-family="Arial, sans-serif" font-size="12" fill="#64748b" text-anchor="middle">Gradient: ∂L/∂x = ∂L/∂y × (1 + ∂F/∂x) — the +1 ensures gradient flow!</text>
</svg>
