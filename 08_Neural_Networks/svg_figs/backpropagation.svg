<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 350">
  <defs>
    <linearGradient id="neuronGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
    <filter id="glow">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>
  
  <rect width="800" height="350" fill="#0f172a"/>
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#f8fafc">Backpropagation: Gradient Flow</text>
  
  <!-- Forward Pass -->
  <text x="400" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#60a5fa">Forward Pass →</text>
  
  <!-- Input Layer -->
  <g transform="translate(80, 100)">
    <circle cx="25" cy="30" r="20" fill="url(#neuronGrad)"/>
    <text x="25" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">x₁</text>
    <circle cx="25" cy="90" r="20" fill="url(#neuronGrad)"/>
    <text x="25" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">x₂</text>
    <text x="25" y="140" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Input</text>
  </g>
  
  <!-- Weights w1 -->
  <line x1="125" y1="130" x2="200" y2="100" stroke="#fbbf24" stroke-width="2"/>
  <line x1="125" y1="130" x2="200" y2="160" stroke="#fbbf24" stroke-width="2"/>
  <line x1="125" y1="190" x2="200" y2="100" stroke="#fbbf24" stroke-width="2"/>
  <line x1="125" y1="190" x2="200" y2="160" stroke="#fbbf24" stroke-width="2"/>
  <text x="160" y="90" font-family="Arial, sans-serif" font-size="9" fill="#fbbf24">w₁</text>
  
  <!-- Hidden Layer -->
  <g transform="translate(200, 80)">
    <circle cx="25" cy="20" r="22" fill="url(#neuronGrad)" filter="url(#glow)"/>
    <text x="25" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">h₁</text>
    <circle cx="25" cy="80" r="22" fill="url(#neuronGrad)" filter="url(#glow)"/>
    <text x="25" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">h₂</text>
    <text x="25" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Hidden</text>
  </g>
  
  <!-- Weights w2 -->
  <line x1="250" y1="100" x2="320" y2="130" stroke="#fbbf24" stroke-width="2"/>
  <line x1="250" y1="160" x2="320" y2="130" stroke="#fbbf24" stroke-width="2"/>
  <text x="285" y="100" font-family="Arial, sans-serif" font-size="9" fill="#fbbf24">w₂</text>
  
  <!-- Output -->
  <g transform="translate(320, 105)">
    <circle cx="25" cy="25" r="22" fill="#22c55e" filter="url(#glow)"/>
    <text x="25" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#fff">ŷ</text>
    <text x="25" y="70" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Output</text>
  </g>
  
  <!-- Loss -->
  <g transform="translate(400, 105)">
    <rect width="60" height="50" rx="6" fill="#ef4444"/>
    <text x="30" y="22" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#fff">Loss</text>
    <text x="30" y="38" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#fecaca">L(ŷ,y)</text>
  </g>
  
  <!-- Arrow to loss -->
  <line x1="367" y1="130" x2="400" y2="130" stroke="#22c55e" stroke-width="2"/>
  
  <!-- Backward Pass -->
  <text x="400" y="200" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#ef4444">← Backward Pass (Gradients)</text>
  
  <!-- Gradient flow arrows -->
  <path d="M400 155 L370 185 L250 185 L125 185" stroke="#ef4444" stroke-width="3" fill="none" marker-end="url(#arrowRed)"/>
  
  <!-- Chain Rule Box -->
  <g transform="translate(480, 80)">
    <rect width="280" height="160" rx="10" fill="#1e293b" stroke="#334155" stroke-width="2"/>
    <text x="140" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f8fafc">Chain Rule</text>
    
    <text x="140" y="55" text-anchor="middle" font-family="Georgia, serif" font-size="12" fill="#fbbf24">∂L/∂w = ∂L/∂ŷ × ∂ŷ/∂h × ∂h/∂w</text>
    
    <text x="20" y="85" font-family="Arial, sans-serif" font-size="10" fill="#ef4444">• ∂L/∂ŷ : Loss gradient</text>
    <text x="20" y="105" font-family="Arial, sans-serif" font-size="10" fill="#22c55e">• ∂ŷ/∂h : Activation gradient</text>
    <text x="20" y="125" font-family="Arial, sans-serif" font-size="10" fill="#60a5fa">• ∂h/∂w : Input gradient</text>
    
    <text x="140" y="150" text-anchor="middle" font-family="Georgia, serif" font-size="11" fill="#a78bfa">w ← w - α × ∂L/∂w</text>
  </g>
  
  <!-- Key insight -->
  <g transform="translate(50, 260)">
    <rect width="700" height="70" rx="8" fill="#1e293b" stroke="#334155" stroke-width="2"/>
    <text x="350" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#f8fafc">Key Insight</text>
    <text x="350" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">Gradients flow backward through the network, computing ∂L/∂w for each weight</text>
    <text x="350" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Each layer receives gradients from the next and passes them to the previous</text>
  </g>
</svg>