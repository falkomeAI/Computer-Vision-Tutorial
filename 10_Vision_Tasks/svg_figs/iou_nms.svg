<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 320">
  <defs>
    <linearGradient id="boxGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6"/>
      <stop offset="100%" style="stop-color:#1d4ed8"/>
    </linearGradient>
  </defs>
  
  <rect width="800" height="320" fill="#0f172a"/>
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#f8fafc">IoU &amp; Non-Maximum Suppression</text>
  
  <!-- IoU Section -->
  <g transform="translate(50, 60)">
    <rect width="320" height="180" rx="10" fill="#1e293b" stroke="#3b82f6" stroke-width="2"/>
    <text x="160" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#60a5fa">Intersection over Union (IoU)</text>
    
    <!-- Boxes visualization -->
    <g transform="translate(30, 45)">
      <!-- Ground truth -->
      <rect x="0" y="0" width="80" height="60" fill="none" stroke="#22c55e" stroke-width="3"/>
      <text x="40" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#22c55e">GT</text>
      
      <!-- Prediction -->
      <rect x="30" y="20" width="80" height="60" fill="none" stroke="#ef4444" stroke-width="3"/>
      <text x="70" y="90" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#ef4444">Pred</text>
      
      <!-- Intersection -->
      <rect x="30" y="20" width="50" height="40" fill="#fbbf24" opacity="0.4"/>
    </g>
    
    <!-- Formula -->
    <g transform="translate(160, 50)">
      <text x="70" y="20" text-anchor="middle" font-family="Georgia, serif" font-size="14" fill="#fbbf24">IoU = A∩B / A∪B</text>
      
      <text x="70" y="50" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">IoU = 0: No overlap</text>
      <text x="70" y="70" font-family="Arial, sans-serif" font-size="10" fill="#94a3b8">IoU = 1: Perfect match</text>
      <text x="70" y="90" font-family="Arial, sans-serif" font-size="10" fill="#34d399">IoU &gt; 0.5: Good detection</text>
    </g>
    
    <text x="160" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#64748b">Also: GIoU, DIoU, CIoU</text>
  </g>
  
  <!-- NMS Section -->
  <g transform="translate(400, 60)">
    <rect width="350" height="180" rx="10" fill="#1e293b" stroke="#22c55e" stroke-width="2"/>
    <text x="175" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#34d399">Non-Maximum Suppression (NMS)</text>
    
    <!-- Before NMS -->
    <g transform="translate(20, 45)">
      <rect width="120" height="80" fill="#0f172a" rx="4"/>
      <text x="60" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">Before NMS</text>
      
      <!-- Multiple overlapping boxes -->
      <rect x="20" y="15" width="50" height="40" fill="none" stroke="#60a5fa" stroke-width="2"/>
      <rect x="25" y="20" width="50" height="40" fill="none" stroke="#60a5fa" stroke-width="2"/>
      <rect x="30" y="25" width="50" height="40" fill="none" stroke="#ef4444" stroke-width="2"/>
      <text x="60" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#64748b">Many boxes</text>
    </g>
    
    <!-- Arrow -->
    <text x="160" y="90" font-family="Arial, sans-serif" font-size="20" fill="#fbbf24">→</text>
    
    <!-- After NMS -->
    <g transform="translate(190, 45)">
      <rect width="120" height="80" fill="#0f172a" rx="4"/>
      <text x="60" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#34d399">After NMS</text>
      
      <!-- Single best box -->
      <rect x="35" y="20" width="50" height="40" fill="none" stroke="#22c55e" stroke-width="3"/>
      <text x="60" y="75" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#34d399">Best box</text>
    </g>
    
    <!-- Algorithm steps -->
    <g transform="translate(20, 135)">
      <text x="0" y="0" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">1. Sort by confidence</text>
      <text x="0" y="15" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">2. Keep highest score</text>
      <text x="0" y="30" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">3. Remove IoU &gt; threshold</text>
      <text x="0" y="45" font-family="Arial, sans-serif" font-size="9" fill="#94a3b8">4. Repeat</text>
    </g>
    
    <text x="270" y="155" font-family="Arial, sans-serif" font-size="9" fill="#64748b">threshold ≈ 0.5</text>
  </g>
  
  <!-- mAP -->
  <g transform="translate(50, 260)">
    <rect width="700" height="45" rx="6" fill="#1e293b" stroke="#334155"/>
    <text x="100" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#fbbf24">mAP</text>
    <text x="400" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">Mean Average Precision = Σ AP(class) / num_classes at IoU thresholds</text>
  </g>
</svg>