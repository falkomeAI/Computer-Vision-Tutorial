<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <rect width="800" height="400" fill="#fafafa"/>
  
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1a1a2e" text-anchor="middle">IoU &amp; Non-Maximum Suppression</text>
  
  <!-- IoU Section -->
  <rect x="30" y="55" width="350" height="160" fill="white" stroke="#1a1a2e" stroke-width="2" rx="6"/>
  <text x="205" y="80" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1a1a2e" text-anchor="middle">Intersection over Union (IoU)</text>
  
  <!-- Box visualization -->
  <rect x="80" y="100" width="100" height="80" fill="#e3f2fd" fill-opacity="0.7" stroke="#2196f3" stroke-width="2"/>
  <text x="130" y="145" font-family="Arial, sans-serif" font-size="10" fill="#1565c0" text-anchor="middle">Ground Truth</text>
  
  <rect x="120" y="120" width="100" height="80" fill="#ffcdd2" fill-opacity="0.7" stroke="#f44336" stroke-width="2"/>
  <text x="170" y="210" font-family="Arial, sans-serif" font-size="10" fill="#c62828" text-anchor="middle">Prediction</text>
  
  <!-- Intersection highlight -->
  <rect x="120" y="120" width="60" height="60" fill="#9c27b0" fill-opacity="0.5" stroke="#7b1fa2" stroke-width="2"/>
  <text x="150" y="155" font-family="Arial, sans-serif" font-size="8" fill="white" text-anchor="middle">∩</text>
  
  <!-- Formula -->
  <text x="300" y="115" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#1a1a2e" text-anchor="middle">IoU Formula:</text>
  <text x="300" y="140" font-family="Arial, sans-serif" font-size="12" fill="#1a1a2e" text-anchor="middle">Area of Intersection</text>
  <line x1="260" y1="148" x2="340" y2="148" stroke="#1a1a2e" stroke-width="1"/>
  <text x="300" y="165" font-family="Arial, sans-serif" font-size="12" fill="#1a1a2e" text-anchor="middle">Area of Union</text>
  
  <text x="300" y="195" font-family="Arial, sans-serif" font-size="10" fill="#666" text-anchor="middle">IoU ∈ [0, 1]</text>
  <text x="300" y="210" font-family="Arial, sans-serif" font-size="9" fill="#888" text-anchor="middle">AP@0.5 = IoU threshold 0.5</text>
  
  <!-- NMS Section -->
  <rect x="420" y="55" width="350" height="160" fill="white" stroke="#1a1a2e" stroke-width="2" rx="6"/>
  <text x="595" y="80" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1a1a2e" text-anchor="middle">Non-Maximum Suppression</text>
  
  <!-- Before NMS -->
  <rect x="450" y="95" width="120" height="100" fill="#f5f5f5" stroke="#ddd" rx="4"/>
  <text x="510" y="112" font-family="Arial, sans-serif" font-size="9" fill="#1a1a2e" text-anchor="middle">Before NMS</text>
  
  <rect x="465" y="120" width="50" height="40" fill="none" stroke="#f44336" stroke-width="2"/>
  <text x="490" y="145" font-family="Arial, sans-serif" font-size="7" fill="#f44336" text-anchor="middle">0.95</text>
  
  <rect x="475" y="130" width="50" height="40" fill="none" stroke="#ff9800" stroke-width="2"/>
  <text x="500" y="155" font-family="Arial, sans-serif" font-size="7" fill="#ff9800" text-anchor="middle">0.85</text>
  
  <rect x="485" y="125" width="50" height="40" fill="none" stroke="#ffc107" stroke-width="2"/>
  <text x="510" y="150" font-family="Arial, sans-serif" font-size="7" fill="#ffc107" text-anchor="middle">0.70</text>
  
  <text x="510" y="185" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">Multiple overlapping</text>
  
  <!-- Arrow -->
  <path d="M 575 145 L 605 145" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arr)"/>
  <defs><marker id="arr" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L0,8 L8,4 z" fill="#1a1a2e"/></marker></defs>
  
  <!-- After NMS -->
  <rect x="620" y="95" width="120" height="100" fill="#f5f5f5" stroke="#ddd" rx="4"/>
  <text x="680" y="112" font-family="Arial, sans-serif" font-size="9" fill="#1a1a2e" text-anchor="middle">After NMS</text>
  
  <rect x="645" y="125" width="50" height="40" fill="none" stroke="#4caf50" stroke-width="3"/>
  <text x="670" y="150" font-family="Arial, sans-serif" font-size="9" fill="#4caf50" text-anchor="middle">0.95</text>
  
  <text x="680" y="185" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">Keep highest only</text>
  
  <!-- NMS Algorithm -->
  <rect x="30" y="230" width="740" height="150" fill="white" stroke="#1a1a2e" stroke-width="2" rx="6"/>
  <text x="400" y="255" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1a1a2e" text-anchor="middle">NMS Algorithm</text>
  
  <!-- Steps -->
  <rect x="50" y="275" width="140" height="45" fill="#e8f5e9" stroke="#81c784" rx="4"/>
  <text x="120" y="295" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1a1a2e" text-anchor="middle">1. Sort by Score</text>
  <text x="120" y="310" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">Descending order</text>
  
  <path d="M 195 297 L 225 297" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arr)"/>
  
  <rect x="230" y="275" width="140" height="45" fill="#e3f2fd" stroke="#64b5f6" rx="4"/>
  <text x="300" y="295" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1a1a2e" text-anchor="middle">2. Select Top Box</text>
  <text x="300" y="310" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">Add to output</text>
  
  <path d="M 375 297 L 405 297" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arr)"/>
  
  <rect x="410" y="275" width="140" height="45" fill="#fff3e0" stroke="#ffb74d" rx="4"/>
  <text x="480" y="295" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1a1a2e" text-anchor="middle">3. Remove High IoU</text>
  <text x="480" y="310" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">IoU &gt; threshold</text>
  
  <path d="M 555 297 L 585 297" stroke="#1a1a2e" stroke-width="2" marker-end="url(#arr)"/>
  
  <rect x="590" y="275" width="140" height="45" fill="#fce4ec" stroke="#f48fb1" rx="4"/>
  <text x="660" y="295" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1a1a2e" text-anchor="middle">4. Repeat</text>
  <text x="660" y="310" font-family="Arial, sans-serif" font-size="8" fill="#666" text-anchor="middle">Until empty</text>
  
  <!-- Loop arrow -->
  <path d="M 660 325 L 660 355 L 300 355 L 300 325" stroke="#9e9e9e" stroke-width="1.5" fill="none" stroke-dasharray="5,3"/>
  
  <text x="400" y="370" font-family="monospace" font-size="9" fill="#666" text-anchor="middle">Common: IoU_threshold = 0.5, Score_threshold = 0.3</text>
</svg>

